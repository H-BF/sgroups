import TabItem                  from '@theme/TabItem'
import Tabs                     from '@theme/Tabs'

import K8sCerts                 from '@site/blog-draft/kubernetes-the-hard-way/snippets/components/kubelet/certs.mdx'
import ETCDCerts                from '@site/blog-draft/kubernetes-the-hard-way/snippets/components/etcd/certs.mdx'
import KubeAPICerts             from '@site/blog-draft/kubernetes-the-hard-way/snippets/components/kubeAPI/certs.mdx'
import KubeControllersCerts     from '@site/blog-draft/kubernetes-the-hard-way/snippets/components/controllerManager/certs.mdx'
import KubeSchedulerCerts       from '@site/blog-draft/kubernetes-the-hard-way/snippets/components/scheduler/certs.mdx'
import KubeadmJoinCerts         from '@site/blog-draft/kubernetes-the-hard-way/snippets/components/kubeadm/joinCerts.mdx'
import KubeadmInitCerts         from '@site/blog-draft/kubernetes-the-hard-way/snippets/components/kubeadm/initCerts.mdx'

<Tabs groupId="current-master">

  <TabItem value='master-1'>
    <Tabs groupId="install-type">

      <TabItem value='HardWay'>
        <K8sCerts />
        <ETCDCerts />
        <KubeAPICerts />
        <KubeControllersCerts />
        <KubeSchedulerCerts />
      </TabItem>
      
      <TabItem value='Kubeadm'>
        <KubeadmInitCerts />
      </TabItem>

    </Tabs>

  </TabItem>

  <TabItem value='master-2'>
    <Tabs groupId="install-type">

      <TabItem value='HardWay'>
        <K8sCerts />
        <ETCDCerts />
        <KubeAPICerts />
        <KubeControllersCerts />
        <KubeSchedulerCerts />
      </TabItem>
      
      <TabItem value='Kubeadm'>
        <KubeadmJoinCerts />
      </TabItem>

    </Tabs>

  </TabItem>

  <TabItem value='master-3'>
    <Tabs groupId="install-type">

      <TabItem value='HardWay'>
        <K8sCerts />
        <ETCDCerts />
        <KubeAPICerts />
        <KubeControllersCerts />
        <KubeSchedulerCerts />
      </TabItem>
      
      <TabItem value='Kubeadm'>
        <KubeadmJoinCerts />
      </TabItem>

    </Tabs>

  </TabItem>

</Tabs>


:::warning
**После настройки сертификатов рекомендуется проверить их корректность с помощью `Kubeadm`**


```bash
root@compute:/home/user# kubeadm certs check-expiration

CERTIFICATE                EXPIRES                  RESIDUAL TIME   CERTIFICATE AUTHORITY   EXTERNALLY MANAGED
admin.conf                 Oct 22, 2025 22:06 UTC   364d            ca                      no      
apiserver                  Oct 22, 2025 22:06 UTC   364d            ca                      no      
apiserver-etcd-client      Oct 22, 2025 22:06 UTC   364d            etcd-ca                 no      
apiserver-kubelet-client   Oct 22, 2025 22:06 UTC   364d            ca                      no      
controller-manager.conf    Oct 22, 2025 22:06 UTC   364d            ca                      no      
etcd-healthcheck-client    Oct 22, 2025 22:06 UTC   364d            etcd-ca                 no      
etcd-peer                  Oct 22, 2025 22:06 UTC   364d            etcd-ca                 no      
etcd-server                Oct 22, 2025 22:06 UTC   364d            etcd-ca                 no      
front-proxy-client         Oct 22, 2025 22:06 UTC   364d            front-proxy-ca          no      
scheduler.conf             Oct 22, 2025 22:06 UTC   364d            ca                      no      
super-admin.conf           Oct 22, 2025 22:06 UTC   364d            ca                      no      

CERTIFICATE AUTHORITY   EXPIRES                  RESIDUAL TIME   EXTERNALLY MANAGED
ca                      Oct 20, 2034 22:04 UTC   9y              no      
etcd-ca                 Oct 20, 2034 22:04 UTC   9y              no      
front-proxy-ca          Oct 20, 2034 22:04 UTC   9y              no      

```
:::
