import CodeBlock                from '@theme/CodeBlock';
import {KUBE_API_ARGS}          from '@site/blog-draft/kubernetes-the-hard-way/constants/kubeAPIArgs'

<details>
<summary>Конфигурация Kubeadm</summary>
<CodeBlock>
{`cat <<EOF > $\{BASE_K8S_PATH\}/kubeadm-join.conf
  ---
  apiVersion: kubeadm.k8s.io/v1beta3
  controlPlane:
    localAPIEndpoint: {}
    certificateKey: 0c00c2fd5c67c37656c00d78a9d7e1f2eb794ef8e4fc3e2a4b532eb14323cd59
  discovery:
    bootstrapToken:
      apiServerEndpoint: api.$\{CLUSTER_NAME\}.$\{BASE_DOMAIN\}:${KUBE_API_ARGS.securePort.value}
      unsafeSkipCAVerification: true
      token: "mdq95f.fa3ihf6lyayxqscn"
  kind: JoinConfiguration
  EOF
`}
</CodeBlock>
</details>
