import TabItem                  from '@theme/TabItem'
import Tabs                     from '@theme/Tabs'

import K8sCACerts               from '@site/blog-draft/kubernetes-the-hard-way/snippets/certs/kubernetes-ca.mdx'
import ETCDCACerts              from '@site/blog-draft/kubernetes-the-hard-way/snippets/certs/etcd-ca.mdx'
import FrontProxyCACerts        from '@site/blog-draft/kubernetes-the-hard-way/snippets/certs/front-proxy-ca.mdx'

:::danger
Просьба обратить внимание, что CA создаются только на первом мастере, как инициализирующая часть создания кластера, все последующие работы с CA производятся либо через копирование сертификатов удостоверяющего центра на каждую ноду управляющего контура или воспользовавшись командой ниже.
```bash
kubeadm join phase control-plane-prepare certs ****
kubeadm join phase control-plane-prepare kubeconfig ****
```
Полное описание команды будет ниже, вместе с информацией как получить такую команду.
:::

<Tabs groupId="install-type">

  <TabItem value='HardWay'>
    <K8sCACerts />
    <ETCDCACerts />
    <FrontProxyCACerts />
  </TabItem>

  <TabItem value='Kubeadm'>
    #### Kubernetes CA
    ```bash
    kubeadm init phase certs ca
    ```
    #### ETCD CA
    ```bash
    kubeadm init phase certs etcd-ca
    ```
    #### Front Proxy CA
    ```bash
    kubeadm init phase certs front-proxy-ca
    ```
    :::note
    После выполнения команд мы получаем следующий вывод.
    ```
    #### Kubernetes CA
    [certs] Generating "ca" certificate and key
    ```
    ```
    #### ETCD CA
    [certs] Generating "etcd/ca" certificate and key
    ```
    ```
    #### Front Proxy CA
    [certs] Generating "front-proxy-ca" certificate and key
    ```
    :::
  </TabItem>

</Tabs>
